<h1>Admin Control Panel</h1>
<h3>Users & Permissions</h3>
<table class="table">
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Name</th>
    <th scope="col">Email</th>
    <th scope="col">User?</th>
    <th scope="col">Admin?</th>
    <th scope="col">Faculty Admin?</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let user of users; let i = index">
    <th scope="row">{{i+1}}</th>
    <th>{{user.name}}</th>
    <td>{{user.email}}</td>
    <td><input type="checkbox" [ngModel]="user.roles.user" (change)="userPermissionChanged(user, $event)"></td>
    <td><input type="checkbox" [ngModel]="user.roles.admin" (change)="adminPermissionChanged(user, $event)"></td>
    <td>
      <div class="badge badge-info p-2" *ngIf="!user.roles.faculty_admin || user.roles.faculty_admin.length == 0">None</div>
      <div class="badge badge-success mr-2 p-2" *ngFor="let f of user.roles.faculty_admin"><span class="mr-1">{{f}}</span><fa name="times"></fa></div>
    </td>
  </tr>
  </tbody>
</table>
<hr />
<h3>Courses</h3>
<form>
  <div class="form-row">
    <div class="col-2">
      Add new course:
    </div>
    <div class="col-2">
      <input type="number" class="form-control" placeholder="Course Number" [(ngModel)]="newCourse.id" name="courseId"/>
    </div>
    <div class="col-4">
      <input type="text" class="form-control" placeholder="Course Name" [(ngModel)]="newCourse.name" name="courseName"/>
    </div>
    <div class="col-2">
      <select class="form-control" [(ngModel)]="newCourse.faculty" name="courseFaculty">
        <option [ngValue]="null" disabled>Choose Faculty</option>
        <option *ngFor="let f of faculties" [value]="f.id">{{f.name}}</option>
      </select>
    </div>
    <div class="col-2">
      <button type="submit" class="btn btn-success" (click)="createNewCourse();">Create Course</button>
    </div>
  </div>
</form>
<hr />
<h3>Faculties</h3>
<form>
  <div class="form-row">
    <div class="col-2">
      Add new faculty:
    </div>
    <div class="col-4">
      <input type="text" class="form-control" placeholder="Faculty Name" [(ngModel)]="newFaculty.name" name="facultyName"/>
    </div>
    <div class="col-2">
      <button type="submit" class="btn btn-success" (click)="createNewFaculty();">Create Faculty</button>
    </div>
  </div>
</form>
<hr />
<div class="row">
  <div class="col-3 mb-4" *ngFor="let f of faculties">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">{{f.name}}</h5>
      </div>
    </div>
  </div>
</div>
